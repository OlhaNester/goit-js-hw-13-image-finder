{"version":3,"sources":["webpack:///./templates/tpl_gallery.hbs","webpack:///./js/refs.js","webpack:///./js/markup.js","webpack:///./js/message.js","webpack:///./js/fetchGallery.js","webpack:///./js/Handler.js","webpack:///./js/events.js"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","alias1","lambda","alias2","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","stack1","nullContext","program","noop","refs","galleryContainer","document","querySelector","searchForm","searchBtn","loadMoreBtn","createGallery","arrGallery","topPoint","offsetTop","offsetHeight","infoGallery","tplGalleryFunc","insertAdjacentHTML","classList","remove","window","scrollTo","top","behavior","messageError","err","error","title","text","delay","fetchGallery","searchQuery","page","qOnPage","apiKey","fetch","then","res","json","catch","queryOptions","query","basicLightbox","require","addEventListener","event","add","innerHTML","value","trim","preventDefault","response","resTotal","resTotalTop","hits","total","totalHits","info","Math","ceil","target","nodeName","onclick","create","dataset","source","show"],"mappings":"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","file":"main.1663c2011412b0b8793d.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li class=\\\"gallery-item\\\">\\r\\n\\r\\n  <div class=\\\"photo-card\\\">\\r\\n\\r\\n    <img src=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"webformatURL\") : depth0), depth0))\n    + \"\\\" data-source=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"largeImageURL\") : depth0), depth0))\n    + \"\\\" alt=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"tags\") : depth0), depth0))\n    + \"\\\" />\\r\\n\\r\\n    <div class=\\\"stats\\\">\\r\\n      <p class=\\\"stats-item\\\">\\r\\n        <i class=\\\"material-icons\\\">thumb_up</i>\\r\\n        \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"likes\") : depth0), depth0))\n    + \"\\r\\n      </p>\\r\\n      <p class=\\\"stats-item\\\">\\r\\n        <i class=\\\"material-icons\\\">visibility</i>\\r\\n        \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"views\") : depth0), depth0))\n    + \"\\r\\n      </p>\\r\\n      <p class=\\\"stats-item\\\">\\r\\n        <i class=\\\"material-icons\\\">comment</i>\\r\\n        \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"comments\") : depth0), depth0))\n    + \"\\r\\n      </p>\\r\\n      <p class=\\\"stats-item\\\">\\r\\n        <i class=\\\"material-icons\\\">cloud_download</i>\\r\\n        \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"downloads\") : depth0), depth0))\n    + \"\\r\\n      </p>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":29,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});","\r\n\r\nconst refs = {\r\n  galleryContainer: document.querySelector('.js-gallery'),\r\n  searchForm: document.querySelector('.js-search-form'),\r\n  searchBtn: document.querySelector('.search'),\r\n  loadMoreBtn: document.querySelector('.load-more'),\r\n  container: document.querySelector('.container'),\r\n};\r\n\r\nexport default refs;","import tplGalleryFunc from '../templates/tpl_gallery.hbs';\r\nimport refs from './refs';\r\n\r\nfunction createGallery(arrGallery) {\r\n  let topPoint =\r\n    refs.galleryContainer.offsetTop + refs.galleryContainer.offsetHeight;\r\n  const offsetHeight = refs.galleryContainer.offsetHeight;\r\n  const infoGallery = tplGalleryFunc(arrGallery);\r\n  refs.galleryContainer.insertAdjacentHTML('beforeend', infoGallery);\r\n  refs.loadMoreBtn.classList.remove('is-hidden');\r\n  if (offsetHeight !== 0) {\r\n    window.scrollTo({\r\n      top: topPoint,\r\n      behavior: 'smooth',\r\n    });\r\n  }\r\n}\r\n\r\nexport default createGallery;\r\n","import { info, error, defaultModules } from '@pnotify/core';\r\nimport '@pnotify/core/dist/PNotify.css';\r\nimport * as PNotifyMobile from '@pnotify/mobile';\r\nimport '@pnotify/mobile/dist/PNotifyMobile.css';\r\nimport '@pnotify/core/dist/BrightTheme.css';\r\n\r\nfunction messageError(err) {\r\n  error({\r\n    title: 'Ups!',\r\n    text: err,\r\n    delay: 2000,\r\n  });\r\n}\r\nfunction sentMessage(resTotal, resTotalTop) {\r\n  info({\r\n    title: `It's found ${resTotal} results`,\r\n    text: `Available ${resTotalTop} results`,\r\n    delay: 5000,\r\n  });\r\n}\r\n\r\nexport { messageError, sentMessage };\r\n","import { sentMessage, messageError } from './message';\r\n\r\nfunction fetchGallery(searchQuery, page = 1, qOnPage) {\r\n  const apiKey = '20298268-ad7854859c2b2dc6e8b44e367';\r\n  const url = `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${searchQuery}&page=${page}&per_page=${qOnPage}&key=${apiKey}`;\r\n  const options = {\r\n    headers: {\r\n      Authorization: apiKey,\r\n      mode: 'no-cors',\r\n    },\r\n  };\r\n  return fetch(url)\r\n    .then(res => res.json())\r\n    .catch(err => messageError(err));\r\n}\r\n\r\nexport default fetchGallery;\r\n","import refs from './refs';\r\nimport createGallery from './markup';\r\nimport { sentMessage, messageError } from './message';\r\nimport fetchGallery from './fetchGallery';\r\n\r\nconst queryOptions = {\r\n  query: '',\r\n  page: 1,\r\n  qOnPage: 12,\r\n};\r\n\r\nconst Handler = function (event) {\r\n  refs.loadMoreBtn.classList.add('is-hidden');\r\n  refs.galleryContainer.innerHTML = '';\r\n\r\n  queryOptions.query = refs.searchForm[0].value;\r\n  if (queryOptions.query.trim() === '') {\r\n    messageError(\"Query musn't be empty\");\r\n    return;\r\n  }\r\n\r\n  queryOptions.page = 1;\r\n\r\n  event.preventDefault();\r\n\r\n  const promjson = fetchGallery(\r\n    queryOptions.query,\r\n    queryOptions.page,\r\n    queryOptions.qOnPage,\r\n  );\r\n  promjson.then(response => {\r\n    createGallery(response.hits);\r\n\r\n    if (response.total === 0) {\r\n      refs.loadMoreBtn.classList.add('is-hidden');\r\n      messageError('Specify your query');\r\n    } else sentMessage(response.total, response.totalHits);\r\n\r\n    if (response.totalHits <= queryOptions.qOnPage) {\r\n      refs.loadMoreBtn.classList.add('is-hidden');\r\n    }\r\n  });\r\n};\r\n\r\nconst loadMoreFunc = function (event) {\r\n  event.preventDefault();\r\n  queryOptions.page += 1;\r\n  const promjson = fetchGallery(\r\n    queryOptions.query,\r\n    queryOptions.page,\r\n    queryOptions.qOnPage,\r\n  );\r\n  promjson.then(response => {\r\n    createGallery(response.hits);\r\n    if (\r\n      queryOptions.page === Math.ceil(response.totalHits / queryOptions.qOnPage)\r\n    ) {\r\n      refs.loadMoreBtn.classList.add('is-hidden');\r\n    } else refs.loadMoreBtn.classList.remove('is-hidden');\r\n  });\r\n};\r\n\r\nexport { Handler, loadMoreFunc };\r\n","import { Handler, loadMoreFunc } from './Handler';\r\nimport 'basiclightbox/dist/basicLightbox.min.css';\r\nimport refs from './refs';\r\n\r\nconst basicLightbox = require('basiclightbox');\r\n\r\nrefs.searchBtn.addEventListener('click', Handler);\r\n\r\nrefs.loadMoreBtn.addEventListener('click', loadMoreFunc);\r\n\r\nconst onGalleryClick = function (event) {\r\n  event.preventDefault();\r\n  if (event.target.nodeName !== 'IMG') {\r\n    return;\r\n  }\r\n  event.target.onclick = () => {\r\n    basicLightbox\r\n      .create(\r\n        `\r\n  \t\t<img width=\"1400\" height=\"900\" src=\"${event.target.dataset.source}\">\r\n  \t`,\r\n      )\r\n      .show();\r\n  };\r\n};\r\n\r\nrefs.galleryContainer.addEventListener('click', onGalleryClick);\r\n"],"sourceRoot":""}